#!/usr/bin/bash
# Don't call this directly; instead use the shell-function "theme"

set -e
new_style="$1"

# Sanity check that the theme is actually one that is supported
if [[ "$new_style" != dark && "$new_style" != light ]]; then
  echo "Unknown theme: \"$new_style\"" >&2
  exit 1
fi

ln -sf "./gruvbox_${new_style}.conf" "${XDG_CONFIG_HOME}/kitty/theme.conf"
ln -sf "./theme_${new_style}.ini" "${XDG_CONFIG_HOME}/polybar/theme.ini"
ln -sf "./${new_style}.jpg" "${XDG_DATA_HOME}/wallpapers/current.jpg"

set-wallpaper
i3-msg exec "${XDG_CONFIG_HOME}/polybar/start.sh" >/dev/null
