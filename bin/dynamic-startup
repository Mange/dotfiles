#!/usr/bin/env bash
# Dynamic startup programs that I cannot represent well in i3 config.

~/.local/bin/fix-keyboard

case "$(hostname)" in
  bilquis)
    xrandr --dpi 96
    [[ "$(autorandr --detected)" == "bilquis-work" ]] && xrandr --output DP-0 --off
    xrandr --dpi 96

    touchpad="SynPS/2 Synaptics TouchPad"
    # Natural scrolling
    xinput set-prop "${touchpad}" "libinput Natural Scrolling Enabled" 1

    # Tapping
    xinput set-prop "${touchpad}" "libinput Tapping Enabled" 1

    # Disable touchpad while typing
    xinput set-prop "${touchpad}" "libinput Disable While Typing Enabled" 1

    # Start Slack
    i3-msg exec slack
    ;;
  morbidus)
    # Start Discord
    i3-msg exec discord-canary

    # Start steam
    i3-msg exec gtk-launch steam
    ;;
  *)
    ;;
esac

autorandr --change --default horizontal
xrandr --dpi 96
