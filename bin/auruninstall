#!/usr/bin/env bash

usage() {
  cat <<HELP
Usage: $0 [package]

Uninstall an AUR package.
HELP
}

if [[ $1 == "--help" ]]; then
  usage
  exit 0
elif [[ $# -ne 1 ]]; then
  usage
  exit 1
fi

package_name=$1

sudo pacman -Rs "$package_name"

# If package could be removed, refresh package caches so it won't show up when
# listing available packages anymore.
repo-remove /var/cache/pacman/custom/custom.db.tar "$package_name" && sudo pacman -Sy
