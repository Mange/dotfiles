#!/bin/sh
set -e

text="$*"
fonts=/usr/share/figlet/fonts

font=$(
  cd "$fonts"
  fd --extension 'flf' |
    sed 's#^\./##' |
    fzf --preview "figlet -w \$FZF_PREVIEW_COLUMNS -f {} \"$text\""
)

figlet -f "$fonts/$font" "$text"
