# vim: ft=sh
# Shell function in order to be able to affect outside environment variables.

function theme() {
  local usage="
theme <light|dark|reload>

Toggle between light and dark theme in most apps, or reload colors in current
terminal."
  local new_style
  local should_reload

  case "$1" in
    dark)
      new_style=dark
      should_reload=1
      ;;
    light)
      new_style=light
      should_reload=1
      ;;
    reload)
      should_reload=1
      ;;
    --help)
      echo "$usage"
      return 0
      ;;
    *)
      echo "$usage" >&2
      return 1
  esac

  if [[ -n $new_style ]]; then
    export KITTY_THEME="$new_style"
    ~/.local/bin/_theme_set "$new_style"
  fi

  if [[ -n $should_reload ]]; then
    ~/.local/bin/_theme_reload_window
  fi
}
