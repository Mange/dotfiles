##########################
# Personal
##########################

IMAPAccount me@mange.dev
  Host mail.mange.dev
  User me@mange.dev
  PassCmd "gpg2 -q --for-your-eyes-only --no-tty -d ~/Security/mbsync_mange_dev.gpg"
  SSLType IMAPS
  CertificateFile /etc/ssl/certs/ca-certificates.crt

IMAPStore mange-remote
  Account me@mange.dev

MaildirStore mange-local
  Path ~/Mail/mange/
  Inbox ~/Mail/mange/Inbox
  SubFolders Verbatim

Channel mange
  Master :mange-remote:
  Slave :mange-local:
  Patterns *
  Create Slave
  SyncState *

##########################
# GMail
##########################

IMAPAccount magnus.bergmark@gmail.com
  Host imap.gmail.com
  User magnus.bergmark@gmail.com
  PassCmd "gpg2 -q --for-your-eyes-only --no-tty -d ~/Security/mbsync_gmail_personal.gpg"
  SSLType IMAPS
  CertificateFile /etc/ssl/certs/ca-certificates.crt

IMAPStore gmail-remote
  Account magnus.bergmark@gmail.com

MaildirStore gmail-local
  Path ~/Mail/gmail/
  Inbox ~/Mail/gmail/Inbox
  Inbox ~/Mail/gmail/trash
  SubFolders Verbatim

# Set up channels. We need custom channels for some directories to name them in
# a way that works well with notmuch and afew (aka no spaces).

Channel gmail-inbox
  Master :gmail-remote:"Inbox"
  Slave :gmail-local:inbox
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel gmail-trash
  Master :gmail-remote:"[Gmail]/Trash"
  Slave :gmail-local:trash
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel gmail-purchases
  Master :gmail-remote:"K\&APY-p"
  Slave :gmail-local:purchases
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel gmail-skola
  Master :gmail-remote:"Skola"
  Slave :gmail-local:school
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel gmail-github
  Master :gmail-remote:"GitHub"
  Slave :gmail-local:github
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel gmail-work
  Master :gmail-remote:"Jobb"
  Slave :gmail-local:work
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel gmail-work-hemnet
  Master :gmail-remote:"Jobb/Hemnet"
  Slave :gmail-local:work/hemnet
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel gmail-work-lerduvan
  Master :gmail-remote:"Jobb/Lerduvan"
  Slave :gmail-local:work/lerduvan
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel gmail-work-mitti
  Master :gmail-remote:"Jobb/Mitt I"
  Slave :gmail-local:work/mitti
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel gmail-registrations
  Master :gmail-remote:"Registreringsmail"
  Slave :gmail-local:registrations
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel gmail-sent
  Master :gmail-remote:"[Gmail]/Sent Mail"
  Slave :gmail-local:sent
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel gmail-drafts
  Master :gmail-remote:"[Gmail]/Drafts"
  Slave :gmail-local:drafts
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel gmail-archive
  Master :gmail-remote:"[Gmail]/All Mail"
  Slave :gmail-local:archive
  Create Slave
  SyncState *
  Sync All
  Expunge Slave

Channel gmail-starred
  Master :gmail-remote:"[Gmail]/Starred"
  Slave :gmail-local:starred
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel gmail-important
  Master :gmail-remote:"[Gmail]/Important"
  Slave :gmail-local:important
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel gmail-game-deals
  Master :gmail-remote:"Game Deals"
  Slave :gmail-local:game-deals
  Create Slave
  SyncState *
  Sync All
  Expunge Both

# Join all the channels into a single group
Group gmail
  Channel gmail-drafts
  Channel gmail-game-deals
  Channel gmail-github
  Channel gmail-important
  Channel gmail-inbox
  Channel gmail-purchases
  Channel gmail-registrations
  Channel gmail-sent
  Channel gmail-skola
  Channel gmail-starred
  Channel gmail-trash
  Channel gmail-work
  Channel gmail-work-hemnet
  Channel gmail-work-lerduvan
  Channel gmail-work-mitti
  Channel gmail-archive

##########################
# Devbox
##########################

IMAPAccount magnus@devbox.com
  Host imap.gmail.com
  User magnus@devbox.com
  PassCmd "gpg2 -q --for-your-eyes-only --no-tty -d ~/Security/mbsync_gmail_devbox.gpg"
  SSLType IMAPS
  CertificateFile /etc/ssl/certs/ca-certificates.crt

IMAPStore devbox-remote
  Account magnus@devbox.com

MaildirStore devbox-local
  Path ~/Mail/devbox/
  Inbox ~/Mail/devbox/Inbox
  Inbox ~/Mail/devbox/trash
  SubFolders Verbatim

# Set up channels. We need custom channels for some directories to name them in
# a way that works well with notmuch and afew (aka no spaces).

Channel devbox-inbox
  Master :devbox-remote:"Inbox"
  Slave :devbox-local:inbox
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel devbox-trash
  Master :devbox-remote:"[Gmail]/Papperskorgen"
  Slave :devbox-local:trash
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel devbox-sent
  Master :devbox-remote:"[Gmail]/Skickat"
  Slave :devbox-local:sent
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel devbox-drafts
  Master :devbox-remote:"[Gmail]/Utkast"
  Slave :devbox-local:drafts
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel devbox-archive
  Master :devbox-remote:"[Gmail]/Alla mail"
  Slave :devbox-local:archive
  Create Slave
  SyncState *
  Sync All
  Expunge Slave

Channel devbox-starred
  Master :devbox-remote:"[Gmail]/Stj&AOQ-rnm&AOQ-rkta"
  Slave :devbox-local:starred
  Create Slave
  SyncState *
  Sync All
  Expunge Both

Channel devbox-important
  Master :devbox-remote:"[Gmail]/Viktigt"
  Slave :devbox-local:important
  Create Slave
  SyncState *
  Sync All
  Expunge Both

# Join all the channels into a single group
Group devbox
  Channel devbox-inbox
  Channel devbox-important
  Channel devbox-starred
  Channel devbox-drafts
  Channel devbox-sent
  Channel devbox-trash
  Channel devbox-archive
